{"version":3,"file":"ng-go-top-button.umd.js","sources":["../../../projects/ng-go-top-button/src/lib/ng-go-top-button.component.ts","../../../projects/ng-go-top-button/src/lib/ng-go-top-button.module.ts","../../../projects/ng-go-top-button/src/public-api.ts","../../../projects/ng-go-top-button/src/ng-go-top-button.ts"],"names":["Component","ViewEncapsulation","trigger","state","style","transition","animate","Input","HostListener","NgModule","CommonModule"],"mappings":"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","sourcesContent":["import {Component, HostListener, Input, OnInit, ViewEncapsulation} from '@angular/core';\nimport {trigger, state, style, transition, animate} from '@angular/animations';\n\n@Component({\n  selector: 'ng-go-top-button', // tslint:disable-line\n  template: `\n    <button type=\"button\" aria-label=\"go to top of page\"\n            [tabIndex]=\"tabIndex\"\n            [@appearInOut]=\"animationState\"\n            (click)=\"scrollTop($event)\"\n            [ngStyle]=\"getStyle()\"\n            [ngClass]=\"classNames\">\n      <ng-content></ng-content>\n    </button>`,\n  encapsulation: ViewEncapsulation.None,\n  styles: [\n      `.go-top-button {\n      position: fixed;\n      cursor: pointer;\n      outline: none;\n      top: 50%;\n      bottom: 50%;\n      right: 0;\n      width: 35px;\n      height: 35px;\n      line-height: 35px;\n      text-decoration: none;\n      color: #ffffff;\n      background: rgba(0, 0, 0, 0.3);\n      border: none;\n      border-radius: 3px 0 0 3px;\n    }\n\n    .go-top-button:hover, .go-top-button:focus {\n      background-color: rgba(0, 0, 0, 0.6);\n      text-decoration: none;\n      color: white;\n    }`\n  ],\n  animations: [\n    trigger('appearInOut', [\n      state('in', style({\n        opacity: '0.85'\n      })),\n      state('out', style({\n        opacity: '0'\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ]),\n  ],\n})\n\n/**\n * Component for adding a go-to-top button to scrollable browser content\n */\nexport class NgGoTopButtonComponent implements OnInit {\n  animationState = 'out';\n  private timerID: any = null;\n\n  /**\n   * Go top button will appear when user scrolls Y to this position\n   */\n  @Input() scrollDistance = 200;\n\n  /**\n   * User styles config object\n   */\n  @Input() styles: any = {};\n\n  /**\n   * Classes to be applied to the button\n   */\n  @Input() classNames = 'go-top-button';\n\n  /**\n   * If true scrolling to top will be animated\n   */\n  @Input() animate = false;\n\n  /**\n   * Animated scrolling speed\n   */\n  @Input() speed = 80;\n\n  /**\n   * Acceleration coefficient, added to speed when using animated scroll\n   */\n  @Input() acceleration = 0;\n\n  /**\n   * Button tabIndex HTML attribute\n   */\n  @Input() tabIndex = 0;\n\n  ngOnInit() {\n    this.validateInputs();\n  }\n\n  private validateInputs() {\n    const errorMessagePrefix = 'GoTopButton component input validation error: ';\n\n    if (this.scrollDistance < 0) {\n      throw Error(errorMessagePrefix + '\\'scrollDistance\\' parameter must be greater or equal to 0');\n    }\n\n    if (this.speed < 1) {\n      throw Error(errorMessagePrefix + '\\'speed\\' parameter must be a positive number');\n    }\n\n    if (this.acceleration < 0) {\n      throw Error(errorMessagePrefix + '\\'acceleration\\' parameter must be greater or equal to 0');\n    }\n\n    if (typeof this.classNames !== 'string') {\n      throw Error(errorMessagePrefix + '\\'classNames\\' parameter must be a string like \\'class1 class2 class3\\'');\n    }\n  }\n\n  /**\n   * Listens to window scroll and animates the button\n   */\n  @HostListener('window:scroll', [])\n  onWindowScroll() {\n    if (this.isBrowser()) {\n      this.animationState = this.getCurrentScrollTop() > this.scrollDistance ? 'in' : 'out';\n    }\n  }\n\n  /**\n   * Scrolls window to top\n   */\n  scrollTop(event: any) {\n    if (!this.isBrowser()) {\n      return;\n    }\n\n    event.preventDefault();\n    if (this.animate) {\n      this.animateScrollTop();\n    } else {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  /**\n   * Performs the animated scroll to top\n   */\n  animateScrollTop() {\n    if (this.timerID !== null) {\n      return;\n    }\n\n    let initialSpeed = this.speed;\n\n    this.timerID = setInterval(() => {\n      window.scrollBy(0, -initialSpeed);\n      initialSpeed = initialSpeed + this.acceleration;\n      if (this.getCurrentScrollTop() === 0) {\n        clearInterval(this.timerID);\n        this.timerID = null;\n      }\n    }, 15);\n  }\n\n  /**\n   * Get current Y scroll position\n   */\n  getCurrentScrollTop() {\n    if (typeof window.scrollY !== 'undefined' && window.scrollY >= 0) {\n      return window.scrollY;\n    }\n\n    if (typeof window.pageYOffset !== 'undefined' && window.pageYOffset >= 0) {\n      return window.pageYOffset;\n    }\n\n    if (typeof document.body.scrollTop !== 'undefined' && document.body.scrollTop >= 0) {\n      return document.body.scrollTop;\n    }\n\n    if (typeof document.documentElement.scrollTop !== 'undefined' && document.documentElement.scrollTop >= 0) {\n      return document.documentElement.scrollTop;\n    }\n\n    return 0;\n  }\n\n  /**\n   * Get button style\n   */\n  getStyle() {\n    return this.styles || {};\n  }\n\n  /**\n   * This check will prevent 'window' logic to be executed\n   * while executing the server rendering\n   */\n  isBrowser(): boolean {\n    return typeof (window) !== 'undefined';\n  }\n}\n","import {NgGoTopButtonComponent} from './ng-go-top-button.component';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NgGoTopButtonComponent],\n  exports: [NgGoTopButtonComponent]\n})\n\nexport class GoTopButtonModule {\n}\n","/*\n * Public API Surface of ng-go-top-button\n */\n\nexport * from './lib/ng-go-top-button.component';\nexport * from './lib/ng-go-top-button.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}