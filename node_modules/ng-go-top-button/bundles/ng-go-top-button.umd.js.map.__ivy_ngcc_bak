{"version":3,"file":"ng-go-top-button.umd.js","sources":["../../../projects/ng-go-top-button/src/lib/ng-go-top-button.component.ts","../../../projects/ng-go-top-button/src/lib/ng-go-top-button.module.ts","../../../projects/ng-go-top-button/src/public-api.ts","../../../projects/ng-go-top-button/src/ng-go-top-button.ts"],"sourcesContent":["import {Component, HostListener, Input, OnInit, ViewEncapsulation} from '@angular/core';\nimport {trigger, state, style, transition, animate} from '@angular/animations';\n\n@Component({\n  selector: 'ng-go-top-button', // tslint:disable-line\n  template: `\n    <button type=\"button\" aria-label=\"go to top of page\"\n            [tabIndex]=\"tabIndex\"\n            [@appearInOut]=\"animationState\"\n            (click)=\"scrollTop($event)\"\n            [ngStyle]=\"getStyle()\"\n            [ngClass]=\"classNames\">\n      <ng-content></ng-content>\n    </button>`,\n  encapsulation: ViewEncapsulation.None,\n  styles: [\n      `.go-top-button {\n      position: fixed;\n      cursor: pointer;\n      outline: none;\n      top: 50%;\n      bottom: 50%;\n      right: 0;\n      width: 35px;\n      height: 35px;\n      line-height: 35px;\n      text-decoration: none;\n      color: #ffffff;\n      background: rgba(0, 0, 0, 0.3);\n      border: none;\n      border-radius: 3px 0 0 3px;\n    }\n\n    .go-top-button:hover, .go-top-button:focus {\n      background-color: rgba(0, 0, 0, 0.6);\n      text-decoration: none;\n      color: white;\n    }`\n  ],\n  animations: [\n    trigger('appearInOut', [\n      state('in', style({\n        opacity: '0.85'\n      })),\n      state('out', style({\n        opacity: '0'\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ]),\n  ],\n})\n\n/**\n * Component for adding a go-to-top button to scrollable browser content\n */\nexport class NgGoTopButtonComponent implements OnInit {\n  animationState = 'out';\n  private timerID: any = null;\n\n  /**\n   * Go top button will appear when user scrolls Y to this position\n   */\n  @Input() scrollDistance = 200;\n\n  /**\n   * User styles config object\n   */\n  @Input() styles: any = {};\n\n  /**\n   * Classes to be applied to the button\n   */\n  @Input() classNames = 'go-top-button';\n\n  /**\n   * If true scrolling to top will be animated\n   */\n  @Input() animate = false;\n\n  /**\n   * Animated scrolling speed\n   */\n  @Input() speed = 80;\n\n  /**\n   * Acceleration coefficient, added to speed when using animated scroll\n   */\n  @Input() acceleration = 0;\n\n  /**\n   * Button tabIndex HTML attribute\n   */\n  @Input() tabIndex = 0;\n\n  ngOnInit() {\n    this.validateInputs();\n  }\n\n  private validateInputs() {\n    const errorMessagePrefix = 'GoTopButton component input validation error: ';\n\n    if (this.scrollDistance < 0) {\n      throw Error(errorMessagePrefix + '\\'scrollDistance\\' parameter must be greater or equal to 0');\n    }\n\n    if (this.speed < 1) {\n      throw Error(errorMessagePrefix + '\\'speed\\' parameter must be a positive number');\n    }\n\n    if (this.acceleration < 0) {\n      throw Error(errorMessagePrefix + '\\'acceleration\\' parameter must be greater or equal to 0');\n    }\n\n    if (typeof this.classNames !== 'string') {\n      throw Error(errorMessagePrefix + '\\'classNames\\' parameter must be a string like \\'class1 class2 class3\\'');\n    }\n  }\n\n  /**\n   * Listens to window scroll and animates the button\n   */\n  @HostListener('window:scroll', [])\n  onWindowScroll() {\n    if (this.isBrowser()) {\n      this.animationState = this.getCurrentScrollTop() > this.scrollDistance ? 'in' : 'out';\n    }\n  }\n\n  /**\n   * Scrolls window to top\n   */\n  scrollTop(event: any) {\n    if (!this.isBrowser()) {\n      return;\n    }\n\n    event.preventDefault();\n    if (this.animate) {\n      this.animateScrollTop();\n    } else {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  /**\n   * Performs the animated scroll to top\n   */\n  animateScrollTop() {\n    if (this.timerID !== null) {\n      return;\n    }\n\n    let initialSpeed = this.speed;\n\n    this.timerID = setInterval(() => {\n      window.scrollBy(0, -initialSpeed);\n      initialSpeed = initialSpeed + this.acceleration;\n      if (this.getCurrentScrollTop() === 0) {\n        clearInterval(this.timerID);\n        this.timerID = null;\n      }\n    }, 15);\n  }\n\n  /**\n   * Get current Y scroll position\n   */\n  getCurrentScrollTop() {\n    if (typeof window.scrollY !== 'undefined' && window.scrollY >= 0) {\n      return window.scrollY;\n    }\n\n    if (typeof window.pageYOffset !== 'undefined' && window.pageYOffset >= 0) {\n      return window.pageYOffset;\n    }\n\n    if (typeof document.body.scrollTop !== 'undefined' && document.body.scrollTop >= 0) {\n      return document.body.scrollTop;\n    }\n\n    if (typeof document.documentElement.scrollTop !== 'undefined' && document.documentElement.scrollTop >= 0) {\n      return document.documentElement.scrollTop;\n    }\n\n    return 0;\n  }\n\n  /**\n   * Get button style\n   */\n  getStyle() {\n    return this.styles || {};\n  }\n\n  /**\n   * This check will prevent 'window' logic to be executed\n   * while executing the server rendering\n   */\n  isBrowser(): boolean {\n    return typeof (window) !== 'undefined';\n  }\n}\n","import {NgGoTopButtonComponent} from './ng-go-top-button.component';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NgGoTopButtonComponent],\n  exports: [NgGoTopButtonComponent]\n})\n\nexport class GoTopButtonModule {\n}\n","/*\n * Public API Surface of ng-go-top-button\n */\n\nexport * from './lib/ng-go-top-button.component';\nexport * from './lib/ng-go-top-button.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Component","ViewEncapsulation","trigger","state","style","transition","animate","Input","HostListener","NgModule","CommonModule"],"mappings":"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"}