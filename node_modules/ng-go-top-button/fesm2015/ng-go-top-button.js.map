{"version":3,"file":"ng-go-top-button.js","sources":["../../../projects/ng-go-top-button/src/lib/ng-go-top-button.component.ts","../../../projects/ng-go-top-button/src/lib/ng-go-top-button.module.ts","../../../projects/ng-go-top-button/src/public-api.ts","../../../projects/ng-go-top-button/src/ng-go-top-button.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, HostListener, Input, OnInit, ViewEncapsulation} from '@angular/core';\nimport {trigger, state, style, transition, animate} from '@angular/animations';\n\n@Component({\n  selector: 'ng-go-top-button', // tslint:disable-line\n  template: `\n    <button type=\"button\" aria-label=\"go to top of page\"\n            [tabIndex]=\"tabIndex\"\n            [@appearInOut]=\"animationState\"\n            (click)=\"scrollTop($event)\"\n            [ngStyle]=\"getStyle()\"\n            [ngClass]=\"classNames\">\n      <ng-content></ng-content>\n    </button>`,\n  encapsulation: ViewEncapsulation.None,\n  styles: [\n      `.go-top-button {\n      position: fixed;\n      cursor: pointer;\n      outline: none;\n      top: 50%;\n      bottom: 50%;\n      right: 0;\n      width: 35px;\n      height: 35px;\n      line-height: 35px;\n      text-decoration: none;\n      color: #ffffff;\n      background: rgba(0, 0, 0, 0.3);\n      border: none;\n      border-radius: 3px 0 0 3px;\n    }\n\n    .go-top-button:hover, .go-top-button:focus {\n      background-color: rgba(0, 0, 0, 0.6);\n      text-decoration: none;\n      color: white;\n    }`\n  ],\n  animations: [\n    trigger('appearInOut', [\n      state('in', style({\n        opacity: '0.85'\n      })),\n      state('out', style({\n        opacity: '0'\n      })),\n      transition('in => out', animate('400ms ease-in-out')),\n      transition('out => in', animate('400ms ease-in-out'))\n    ]),\n  ],\n})\n\n/**\n * Component for adding a go-to-top button to scrollable browser content\n */\nexport class NgGoTopButtonComponent implements OnInit {\n  animationState = 'out';\n  private timerID: any = null;\n\n  /**\n   * Go top button will appear when user scrolls Y to this position\n   */\n  @Input() scrollDistance = 200;\n\n  /**\n   * User styles config object\n   */\n  @Input() styles: any = {};\n\n  /**\n   * Classes to be applied to the button\n   */\n  @Input() classNames = 'go-top-button';\n\n  /**\n   * If true scrolling to top will be animated\n   */\n  @Input() animate = false;\n\n  /**\n   * Animated scrolling speed\n   */\n  @Input() speed = 80;\n\n  /**\n   * Acceleration coefficient, added to speed when using animated scroll\n   */\n  @Input() acceleration = 0;\n\n  /**\n   * Button tabIndex HTML attribute\n   */\n  @Input() tabIndex = 0;\n\n  ngOnInit() {\n    this.validateInputs();\n  }\n\n  private validateInputs() {\n    const errorMessagePrefix = 'GoTopButton component input validation error: ';\n\n    if (this.scrollDistance < 0) {\n      throw Error(errorMessagePrefix + '\\'scrollDistance\\' parameter must be greater or equal to 0');\n    }\n\n    if (this.speed < 1) {\n      throw Error(errorMessagePrefix + '\\'speed\\' parameter must be a positive number');\n    }\n\n    if (this.acceleration < 0) {\n      throw Error(errorMessagePrefix + '\\'acceleration\\' parameter must be greater or equal to 0');\n    }\n\n    if (typeof this.classNames !== 'string') {\n      throw Error(errorMessagePrefix + '\\'classNames\\' parameter must be a string like \\'class1 class2 class3\\'');\n    }\n  }\n\n  /**\n   * Listens to window scroll and animates the button\n   */\n  @HostListener('window:scroll', [])\n  onWindowScroll() {\n    if (this.isBrowser()) {\n      this.animationState = this.getCurrentScrollTop() > this.scrollDistance ? 'in' : 'out';\n    }\n  }\n\n  /**\n   * Scrolls window to top\n   */\n  scrollTop(event: any) {\n    if (!this.isBrowser()) {\n      return;\n    }\n\n    event.preventDefault();\n    if (this.animate) {\n      this.animateScrollTop();\n    } else {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  /**\n   * Performs the animated scroll to top\n   */\n  animateScrollTop() {\n    if (this.timerID !== null) {\n      return;\n    }\n\n    let initialSpeed = this.speed;\n\n    this.timerID = setInterval(() => {\n      window.scrollBy(0, -initialSpeed);\n      initialSpeed = initialSpeed + this.acceleration;\n      if (this.getCurrentScrollTop() === 0) {\n        clearInterval(this.timerID);\n        this.timerID = null;\n      }\n    }, 15);\n  }\n\n  /**\n   * Get current Y scroll position\n   */\n  getCurrentScrollTop() {\n    if (typeof window.scrollY !== 'undefined' && window.scrollY >= 0) {\n      return window.scrollY;\n    }\n\n    if (typeof window.pageYOffset !== 'undefined' && window.pageYOffset >= 0) {\n      return window.pageYOffset;\n    }\n\n    if (typeof document.body.scrollTop !== 'undefined' && document.body.scrollTop >= 0) {\n      return document.body.scrollTop;\n    }\n\n    if (typeof document.documentElement.scrollTop !== 'undefined' && document.documentElement.scrollTop >= 0) {\n      return document.documentElement.scrollTop;\n    }\n\n    return 0;\n  }\n\n  /**\n   * Get button style\n   */\n  getStyle() {\n    return this.styles || {};\n  }\n\n  /**\n   * This check will prevent 'window' logic to be executed\n   * while executing the server rendering\n   */\n  isBrowser(): boolean {\n    return typeof (window) !== 'undefined';\n  }\n}\n","import {NgGoTopButtonComponent} from './ng-go-top-button.component';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NgGoTopButtonComponent],\n  exports: [NgGoTopButtonComponent]\n})\n\nexport class GoTopButtonModule {\n}\n","/*\n * Public API Surface of ng-go-top-button\n */\n\nexport * from './lib/ng-go-top-button.component';\nexport * from './lib/ng-go-top-button.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}